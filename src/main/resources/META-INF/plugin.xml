<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
  <id>com.github.vitallium.rubylsp</id>
  <name>Ruby LSP</name>
  <vendor email="vitaliy.slobodin@gmail.com" url="https://github.com/vitallium/intellij-plugin-ruby-lsp">Vitaly Slobodin</vendor>
  <description><![CDATA[
      <a href="https://shopify.github.io/ruby-lsp/">Ruby LSP</a> for RubyMine to improve rich features.
      For more information visit the
      <a href="https://github.com/vitallium/intellij-plugin-ruby-lsp">project site</a>.
      ]]></description>
  <resource-bundle>messages.RubyLspBundle</resource-bundle>

  <depends>com.intellij.modules.lang</depends>
  <depends>org.jetbrains.plugins.ruby</depends>
  <depends>com.redhat.devtools.lsp4ij</depends>

  <extensions defaultExtensionNs="com.redhat.devtools.lsp4ij">
    <server factoryClass="com.github.vitallium.rubylsp.RubyLspLanguageServerFactory"
            id="ruby-lsp"
            name="Ruby LSP Language Server">
      <description><![CDATA[
            <h1>Ruby LSP</h1>
            ]]>
      </description>
    </server>
    <languageMapping language="ruby" languageId="ruby" serverId="ruby-lsp" />
  </extensions>

  <extensions defaultExtensionNs="com.intellij">
    <!-- LSP -->

    <!-- Misc -->
    <notificationGroup id="RubyLsp" displayType="BALLOON"/>

    <directoryIndexExcludePolicy
      implementation="com.github.vitallium.rubylsp.RubyLspDirectoryIndexExcludePolicy"
    />

    <!-- Settings -->
    <projectConfigurable groupId="language" id="rubyLsp"
                         bundle="messages.RubyLspBundle" key="settings.display.name"
                         nonDefaultProject="false"
                         instance="com.github.vitallium.rubylsp.settings.RubyLspSettingsConfigurable"/>
  </extensions>

  <!-- Ruby LSP Commands -->
  <actions>
    <action id="rubyLsp.runTestInTerminal"
            class="com.github.vitallium.rubylsp.commands.RubyLspRunTestInTerminalCommand"
            text="Run Test in Terminal"
            description="Run the current Ruby test in the integrated terminal">
    </action>

    <action id="rubyLsp.runTest"
            class="com.github.vitallium.rubylsp.commands.RubyLspRunTestCommand"
            text="Run Test"
            description="Run the current Ruby test">
    </action>
  </actions>
</idea-plugin>
